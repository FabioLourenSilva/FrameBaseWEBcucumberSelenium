@REGRESSIVOS-PAGAMENTOS-APP
Feature: Solicitar pagamentos no app


  Scenario: Solicitar pagamentos atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Entendi que voc√™ quer fazer um pagamento. üòä Me conta s√≥ mais uma coisinha: o que voc√™ quer pagar?"

    Examples:
      | intent                     |
      | Quero fazer um pagamento   |
      | Preciso fazer um pagamento |
      | pagar                      |
      | Ajuda para pagar           |
      | Fazer um pagamento         |
      | Realizar o pagamento       |
      | quero pagar                |
      | fazer pagamento            |
      | pagar meu ve√≠culo          |
      | pagar uma conta            |
      | pagar conta                |
      | pagamento                  |

  Scenario: Solicitar pagamentos de financiamentos atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Agora me diz, o que voc√™ quer pagar?"

    Examples:
      | intent                                          |
      | pagar financiamento                             |
      | quero fazer o pagamento do meu financiamento    |
      | Preciso fazer um pagamento do meu financiamento |
      | Pagar o meu financiamento                       |
      | Ajuda para pagar meu financiamento              |
      | Fazer um pagamento do meu financiamento         |
      | pagar o financiamento                           |
      | fazer o pagamento do meu financiamento          |
      | Realizar o pagamento de financiamento           |
      | quero pagar o financiamento                     |
      | quero pagar o meu financiamento                 |
      | pagar um financiamento                          |
      | quero pagar o meu financiamento                 |
      | fazer pagamento de financiamento                |
      | pagar financiamento de meu ve√≠culo              |
      | quero pagar um boleto do meu financiamento      |
      | pagamento do meu financiamento                  |

  Scenario: Solicitar pagamentos de boletos atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Voc√™ gostaria de pagar um boleto de:"

    Examples:
      | intent                                 |
      | preciso pagar um boleto                |
      | Quero fazer um pagamento do meu boleto |
      | Preciso fazer um pagamento do boleto   |
      | pagar boleto                           |
      | Pagar com o cartao meu boleto          |
      | Pagar o meu boleto                     |
      | Ajuda para pagar meu boleto            |
      | Fazer um pagamento de meu boleto       |
      | pagar o meu boleto                     |
      | fazer o pagamento do meu boleto        |
      | Realizar o pagamento de boleto         |
      | quero pagar o boleto                   |
      | quero pagar o meu boleto               |
      | pagar um boleto                        |
      | quero pagar o meu boleto               |
      | fazer pagamento do boleto              |
      | pagar meu ve√≠culo com boleto           |
      | pagar uma conta do boleto              |
      | pagar conta do boleto                  |
      | quero pagar um boleto de               |
      | pagamento de boleto                    |

  Scenario: Solicitar pagamentos de qrcode atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Pagar um QR Code Pix pelo app BV √© simples. √â s√≥:"
    And validar conteudo (ballon 3) "Ir na tela inicial do app, escolher a op√ß√£o Pagar contas üëâ QR Code Pix"
    And validar conteudo (ballon 3) "Posicionar o QR Code na √°rea indicada"
    And validar conteudo (ballon 3) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"

    Examples:
      | intent                                 |
      | pagar usando qrcode                    |
      | Preciso fazer um pagamento pelo qrcode |
      | pagar com qrcode                       |
      | Pagar o meu qrcode                     |
      | Ajuda para pagar com qrcode            |
      | Fazer um pagamento pelo qrcode         |
      | Realizar o pagamento atraves do qrcode |
      | quero pagar com qrcode                 |
      | quero pagar o meu qrcode               |
      | fazer pagamento pelo qrcode            |
      | pagar uma conta atraves do qrcode      |
      | pagar conta com qrcode                 |
      | pagamento pelo qrcode                  |


  Scenario: Solicitar pagamentos de faturas atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Ah! Deixa eu te lembrar: voc√™ s√≥ pode pagar a fatura do seu cart√£o quando ela estiver fechada, tudo bem?"
    And validar conteudo (ballon 3) "Para pegar o boleto da fatura fechada do seu Cart√£o BV, voc√™ precisa:"
    And validar conteudo (ballon 3) "Acessar a tela inicial do app"
    And validar conteudo (ballon 3) "Ir em Meus cart√µes"
    And validar conteudo (ballon 3) "Tocar em Ver fatura üëâPagar fatura"
    And validar conteudo (ballon 3) "Escolher se quer pagar o valor total ou m√≠nimo"

    Examples:
      | intent                                   |
      | Como pagar minha fatura                  |
      | quero pagar minha parcela da fatura      |
      | Quero fazer um pagamento da minha fatura |
      | Preciso fazer um pagamento da fatura     |
      | pagar fatura                             |
      | Pagar a minha fatura                     |
      | Ajuda para pagar fatura                  |
      | Fazer um pagamento da fatura             |
      | pagar a minha fatura                     |
      | fazer o pagamento da minha fatura        |
      | Realizar o pagamento da fatura           |
      | quero pagar minha fatura                 |
      | pagar uma fatura                         |
      | quero pagar a minha fatura               |
      | fazer pagamento de fatura                |
      | quero pagar a minha parcela da fatura    |
      | quero pagar um boleto de fatura          |
      | pagamento de fatura                      |


  Scenario: Solicitar pagamentos de boletos atrav√©s de inten√ß√µes at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Parcela atual"
    And validar conteudo (ballon 7) "Para pegar o boleto da sua parcela atual, voc√™ precisa:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Tocar no valor da parcela ou em Gerar boleto"
    And validar conteudo (ballon 7) "Selecionar o bot√£o Gerar boleto"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 9) "Hmm, entendi! Vou chamar uma pessoa do time BV aqui pra te ajudar, tudo bem? üòâ"

  Scenario: Solicitar pagamento do financiamento de veiculos (Proximas parcelas) at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Pr√≥ximas parcelas"
    And validar conteudo (ballon 7) "Para adiantar o pagamento das suas parcelas, voc√™ precisa:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Ir no √≠cone de Adiantar Parcelas"
    And validar conteudo (ballon 7) "Selecionar e adicionar as parcelas"
    And validar conteudo (ballon 7) "Alterar a data de vencimento do boleto"
    And validar conteudo (ballon 7) "Tocar em Gerar boleto"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 9) "Hmm, entendi! Vou chamar uma pessoa do time BV aqui pra te ajudar, tudo bem? üòâ"

  Scenario: Solicitar pagamento do financiamento de veiculos (Parcelas atrasadas) at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Parcelas atrasadas"
    And validar conteudo (ballon 7) "Para pegar o boleto da sua parcela atrasada, voc√™ tem que:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Tocar em Gerar boleto "
    And validar conteudo (ballon 7) "Selecionar o bot√£o Gerar boleto"
    And validar conteudo (ballon 7) "Caso tenha mais de uma parcela atrasada, voc√™ precisa escolher qual quer pagar depois do passo 2."
    And clicar no botao "J√° tentei isso"
    And validar conteudo (ballon 10) "Hmm, entendi! Vou chamar uma pessoa do time BV aqui pra te ajudar, tudo bem? üòâ"

  Scenario: Solicitar pagamento do financiamento de veiculos (Contrato inteiro) at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Contrato inteiro"
    And validar conteudo (ballon 7) "Para quitar o seu financiamento, voc√™ precisa:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Ir no √≠cone de Quitar financiamento"
    And validar conteudo (ballon 7) "Selecionar o bot√£o Gerar boleto"
    And clicar no botao "J√° tentei isso"
    And validar conteudo (ballon 9) "Hmm, entendi! Vou chamar uma pessoa do time BV aqui pra te ajudar, tudo bem? üòâ"

  Scenario: Solicitar pagamento do financiamento de veiculos (Quero mudar de assunto)
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Quero mudar de assunto"
    Then validar conteudo (ballon 7) "Ent√£o, me conta: o que voc√™ precisa?"


    # Fluxo fatura do cart√£o BV #

  Scenario: Solicitar pagamento da fatura do cart√£o BV, at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Fatura do Cart√£o BV"
    And validar conteudo (ballon 5) "Ah! Deixa eu te lembrar: voc√™ s√≥ pode pagar a fatura do seu cart√£o quando ela estiver fechada, tudo bem?"
    And validar conteudo (ballon 5) "Para pegar o boleto da fatura fechada do seu Cart√£o BV, voc√™ precisa:"
    And validar conteudo (ballon 5) "Acessar a tela inicial do app"
    And validar conteudo (ballon 5) "Ir em Meus cart√µes"
    And validar conteudo (ballon 5) "Tocar em Ver fatura üëâPagar fatura"
    And validar conteudo (ballon 5) "Escolher se quer pagar o valor total ou m√≠nimo"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 7) "Hmm, entendi! Vou chamar uma pessoa do time BV aqui pra te ajudar, tudo bem? üòâ"

    # Fluxo outro tipo de boleto #

  Scenario: Solicitar pagamento de outro tipo de boleto (Saldo em conta), at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Outro tipo de boleto"
    And validar conteudo (ballon 5) "Para pagar seu boleto pelo app BV √© f√°cil. Voc√™ deve:"
    And validar conteudo (ballon 5) "Ir na tela inicial, selecionar a op√ß√£o Pagar contas e depois Boleto"
    And validar conteudo (ballon 5) "Deixar o c√≥digo de barras posicionado na linha azul ou escolher Digitar c√≥digo"
    And validar conteudo (ballon 5) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"
    And validar conteudo (ballon 5) "Digitar a senha para confirmar"
    And clicar no botao "N√£o consegui pagar"
    And validar conteudo (ballon 7) "Vou te ajudar de outra forma ent√£o. üòâ S√≥ me fala se voc√™ tentou fazer o pagamento com:"
    And clicar no botao "Saldo em conta"
    Then validar conteudo (ballon 9) "Pode ser que voc√™ tenha atingido o limite di√°rio de pagamentos. üò© Nesse caso, voc√™ precisa falar com uma pessoa do time BV para te explicar melhor."

  Scenario: Solicitar pagamento de outro tipo de boleto (Cart√£o BV), at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "Outro tipo de boleto"
    And validar conteudo (ballon 5) "Para pagar seu boleto pelo app BV √© f√°cil. Voc√™ deve:"
    And validar conteudo (ballon 5) "Ir na tela inicial, selecionar a op√ß√£o Pagar contas e depois Boleto"
    And validar conteudo (ballon 5) "Deixar o c√≥digo de barras posicionado na linha azul ou escolher Digitar c√≥digo"
    And validar conteudo (ballon 5) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"
    And validar conteudo (ballon 5) "Digitar a senha para confirmar"
    And clicar no botao "N√£o consegui pagar"
    And validar conteudo (ballon 7) "Vou te ajudar de outra forma ent√£o. üòâ S√≥ me fala se voc√™ tentou fazer o pagamento com:"
    And clicar no botao "Cart√£o BV"
    Then validar conteudo (ballon 9) "Neste caso, voc√™ precisa da ajuda de uma pessoa do time BV. O que prefere fazer? üòâ"

    # Fluxo QRcode #
  Scenario: Solicitar pagamento pelo qrcode pix, at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "efetuar pagamento"
    And enviar a mensagem
    And clicar no botao "QR Code Pix"
    And validar conteudo (ballon 5) "Pagar um QR Code Pix pelo app BV √© simples. √â s√≥:"
    And validar conteudo (ballon 5) "Ir na tela inicial do app, escolher a op√ß√£o Pagar contas üëâ QR Code Pix"
    And validar conteudo (ballon 5) "Posicionar o QR Code na √°rea indicada"
    And validar conteudo (ballon 5) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 7) "Neste caso, voc√™ precisa da ajuda de uma pessoa do time BV. O que prefere fazer? üòâ"

  # Fluxo Boleto #
  Scenario: Solicitar pagamento do boleto (Financiamento de veiculos)
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "pagar boleto"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Voc√™ gostaria de pagar um boleto de:"
    And clicar no botao "Financiamento de ve√≠culos"
    Then validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"

  Scenario: Solicitar pagamento do boleto (Outro tipo de boleto)
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "pagar boleto"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Voc√™ gostaria de pagar um boleto de:"
    And clicar no botao "Outro tipo de boleto"
    Then validar conteudo (ballon 5) "Para pagar seu boleto pelo app BV √© f√°cil. Voc√™ deve:"
    And validar conteudo (ballon 5) "Ir na tela inicial, selecionar a op√ß√£o Pagar contas e depois Boleto"
    And validar conteudo (ballon 5) "Deixar o c√≥digo de barras posicionado na linha azul ou escolher Digitar c√≥digo"
    And validar conteudo (ballon 5) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"
    And validar conteudo (ballon 5) "Digitar a senha para confirmar"


#Fluxo segunda via de boleto#

  Scenario: Solicitar segunda via de boleto (parcela atual), at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "segunda via de boleto"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Voc√™ gostaria da segunda via do seu boleto de:"
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Parcela atual"
    And validar conteudo (ballon 7) "Para pegar o boleto da sua parcela atual, voc√™ precisa:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Tocar no valor da parcela ou em Gerar boleto"
    And validar conteudo (ballon 7) "Selecionar o bot√£o Gerar boleto"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 9) "Neste caso, voc√™ precisa da ajuda de uma pessoa do time BV. O que prefere fazer? üòâ"


  Scenario: Solicitar segunda via de boleto (parcelas atrasadas), at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "segunda via de boleto"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Voc√™ gostaria da segunda via do seu boleto de:"
    And clicar no botao "Financiamento de ve√≠culos"
    And validar conteudo (ballon 5) "Agora me diz, o que voc√™ quer pagar?"
    And clicar no botao "Parcelas atrasadas"
    And validar conteudo (ballon 7) "Para pegar o boleto da sua parcela atrasada, voc√™ tem que:"
    And validar conteudo (ballon 7) "Acessar a tela inicial do app"
    And validar conteudo (ballon 7) "Tocar em Gerar boleto "
    And validar conteudo (ballon 7) "Selecionar o bot√£o Gerar boleto"
    And validar conteudo (ballon 7) "Caso tenha mais de uma parcela atrasada, voc√™ precisa escolher qual quer pagar depois do passo 2."
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 10) "Neste caso, voc√™ precisa da ajuda de uma pessoa do time BV. O que prefere fazer? üòâ"

  Scenario: Solicitar segunda via de boleto (Fatura do cart√£o), at√© transbordo
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "segunda via de boleto"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Voc√™ gostaria da segunda via do seu boleto de:"
    And clicar no botao "Fatura do cart√£o"
    And validar conteudo (ballon 5) "Para pegar o boleto da fatura fechada do seu Cart√£o BV, voc√™ precisa:"
    And validar conteudo (ballon 5) "Acessar a tela inicial do app"
    And validar conteudo (ballon 5) "Ir em Meus cart√µes"
    And validar conteudo (ballon 5) "Tocar em Ver fatura üëâPagar fatura"
    And validar conteudo (ballon 5) "Escolher se quer pagar o valor total ou m√≠nimo"
    And clicar no botao "J√° tentei isso"
    Then validar conteudo (ballon 7) "Neste caso, voc√™ precisa da ajuda de uma pessoa do time BV. O que prefere fazer? üòâ"

  Scenario: Solicitar pagamentos de outro tipo boleto atrav√©s de inten√ß√µes
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "Para pagar seu boleto pelo app BV √© f√°cil. Voc√™ deve:"
    And validar conteudo (ballon 3) "Ir na tela inicial, selecionar a op√ß√£o Pagar contas e depois Boleto"
    And validar conteudo (ballon 3) "Deixar o c√≥digo de barras posicionado na linha azul ou escolher Digitar c√≥digo"
    And validar conteudo (ballon 3) "Escolher a op√ß√£o de pagar com saldo em conta ou Cart√£o BV"
    And validar conteudo (ballon 3) "Digitar a senha para confirmar"

    Examples:
      | intent                                         |
      | pagar outro tipo de boleto                     |
      | como fazer o pagamento de outro tipo de boleto |

    #Exclusivo APP#

  @CT1-ANT-PARCELAR-APP
  Scenario: Perguntar sobre antecipa√ß√£o de parcela
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "<intent>"
    And enviar a mensagem
    And validar conteudo (ballon 3) "Entendi que voc√™ quer fazer uma antecipa√ß√£o. Voc√™ gostaria de antecipar o pagamento da sua fatura ou seu boleto de financiamento? "
    And clicar no botao "Boleto"
    Then validar conteudo (ballon 5) "voc√™ pode adiantar qualquer parcela do seu contrato e o valor do desconto nos juros vai ser proporcional ao per√≠odo que voc√™ escolheu para antecipar o pagamento."
    And validar conteudo (ballon 5) "Ou seja: quanto mais antecipado, maior o desconto."
    And validar conteudo (ballon 6) "Para antecipar o boleto da sua parcela atual, voc√™ precisa:"
    And validar conteudo (ballon 6) "Acessar a tela inicial do app"
    And validar conteudo (ballon 6) "Selecionar o valor da parcela"
    And validar conteudo (ballon 6) "Alterar a data de vencimento"
    And validar conteudo (ballon 6) "Selecionar o bot√£o Gerar boleto"

    Examples:
      | intent                                                          |
      | Tem uma ordem certa pra antecipar as parcelas de financiamento? |
      | Quero antecipar algumas parcelas do carro, como fa√ßo?           |
      | S√≥ posso antecipar as √∫ltimas parcelas?                         |
      | S√≥ posso antecipar as pr√≥ximas parcelas?                        |
      | Quais parcelas posso antecipar?                                 |
      | Quantas parcelas posso antecipar?                               |
      | Como antecipar parcelas financiamento?                          |

  @CT2-ANT-PARCELAR-APP
  Scenario: Solicitar antecipa√ß√£o de parcela
    Given que acessei o chatbot do eva (App)
    When eu digitar a intencao "Quero antecipar boleto financiamento"
    And enviar a mensagem
    Then validar conteudo (ballon 3) "voc√™ pode adiantar qualquer parcela do seu contrato e o valor do desconto nos juros vai ser proporcional ao per√≠odo que voc√™ escolheu para antecipar o pagamento."
    And validar conteudo (ballon 3) "Ou seja: quanto mais antecipado, maior o desconto."
    And validar conteudo (ballon 4) "Para antecipar o boleto da sua parcela atual, voc√™ precisa:"
    And validar conteudo (ballon 4) "Acessar a tela inicial do app"
    And validar conteudo (ballon 4) "Selecionar o valor da parcela"
    And validar conteudo (ballon 4) "Alterar a data de vencimento"
    And validar conteudo (ballon 4) "Selecionar o bot√£o Gerar boleto"
